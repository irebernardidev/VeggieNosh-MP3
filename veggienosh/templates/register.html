{% extends 'base.html' %}

{% block content %}
  <!-- Registration Section -->
  <section class="login-reg-section center-align">
    
    <!-- Registration Logo with link to Home -->
    <a href="{{ url_for('home') }}">
      <img
        src="{{ url_for('static', filename='images/logo.png') }}"
        class="logo-login-register hide-on-med-and-down"
        alt="VeggieNosh Logo"
      />
    </a>
    
    <!-- Heading for the Registration Page -->
    <h1 class="secondary-heading heading-black uppercase">Whip up an account!</h1>
    
    <!-- Registration Form -->
    <div class="row">
      <form method="POST" action="" class="col s12">
        
        {{ form.hidden_tag() }}
        
        <!-- Username Input Field -->
        <div class="row">
          <div class="input-field col s12">
            <i class="material-icons prefix">person</i>
            {{ form.username(placeholder="Your veggie alias", id="username") }}
            <label for="username">Username <i class="fas fa-question-circle tooltipped" data-position="top"
                data-tooltip="3-15 characters, case sensitive"></i></label>
            <!-- Errors for Username -->
            {% for error in form.username.errors %}
              <span class="error-message">{{ error }}</span>
            {% endfor %}
          </div>
        </div>
        
        <!-- Password Input Field -->
        <div class="row">
          <div class="input-field col s12">
            <i class="material-icons prefix">lock</i>
            {{ form.password(placeholder="Secret garden passphrase", id="password") }}
            <label for="password">Password <i class="fas fa-question-circle tooltipped" data-position="top"
                data-tooltip="Must be 3-15 characters and is case sensitive"></i></label>
            <!-- Errors for Password -->
            {% for error in form.password.errors %}
              <span class="text-red">{{ error }}</span>
            {% endfor %}
          </div>
        </div>
        
        <!-- Confirm Password Input Field -->
        <div class="row">
          <div class="input-field col s12">
            <i class="material-icons prefix">lock</i>
            {{ form.confirm_password.label }}
            {{ form.confirm_password(placeholder="Confirm your garden passphrase") }}
            <!-- Errors for Confirm Password -->
            {% for error in form.confirm_password.errors %}
              <span class="text-red">{{ error }}</span>
            {% endfor %}
          </div>
        </div>
        
        <!-- Flash Messages for Additional Errors or Notifications -->
        <div class="row center-align">
          {% with messages = get_flashed_messages() %}
            {% if messages %}
              {% for message in messages %}
                <p class="text-red">
                  {{ message }}
                </p>
              {% endfor %}
            {% endif %}
          {% endwith %}
        </div>
        
        <!-- Submit Button for Registration Form -->
        <div class="row">
          <div class="col s12 center-align">
            {{ form.submit(class="btn btn-form btn-main btn-coral z-depth-3 uppercase") }}
          </div>
        </div>
        
        <!-- Link to Login Page for Existing Users -->
        <div class="row center-align">
          <div class="col s12">
            <span>
              Already sprouted an account?
              <a href="{{ url_for('login') }}">Tend to it here!</a>
            </span>
          </div>
        </div>

      </form>
    </div>
  </section>
  <!-- End of Registration Section -->

{% endblock %}
